  version: v1
  name: wf-profile-ott-complaints
  type: workflow
  tags:
    - ott.complaints
  description: The job performs profiling on top of ottchurn complaints data
  workflow:
    title: OTT Complaints Profiler
    dag:
      - name: profile-ottchurn-complaints
        title: Complaints Data Profiler
        description: The job performs profiling on complaints data
        spec:
          tags:
            - ott.complaints
          stack: flare:4.0
          compute: runnable-default
          title: complaints Data Profiler
          persistentVolume:
            name: persistent-v
            directory: fides
          flare:
            job:
              explain: true
              inputs:
                - name: complaints_input
                  dataset: dataos://icebase:telecom_ottchurn/ott_complaints
                  format: iceberg
              logLevel: info
              profile:
                level: basic
            sparkConf:
              - spark.sql.shuffle.partitions: 10
              - spark.default.parallelism: 10